{"version":3,"file":"useApp-khRuD069.js","sources":["../../../../../../node_modules/.pnpm/@tmagic+vue-runtime-help@0.0.7_@tmagic+core@packages+core_@tmagic+data-source@1.4.16_@tmagic+_ws7dtddtwg7dmrs3vshbe7yurq/node_modules/@tmagic/vue-runtime-help/dist/useApp.js"],"sourcesContent":["/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2023 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { computed, inject, onBeforeUnmount, onMounted } from 'vue-demi';\nexport default ({ methods, config }) => {\n    const app = inject('app');\n    const node = app?.page?.getNode(config.id || '');\n    const style = computed(() => (app ? app.transformStyle(config.style || {}) : config.style));\n    const emitData = {\n        config,\n        ...methods,\n    };\n    const display = (config) => {\n        if (config.visible === false)\n            return false;\n        if (config.condResult === false)\n            return false;\n        const displayCfg = config.display;\n        if (typeof displayCfg === 'function') {\n            return displayCfg(app);\n        }\n        return displayCfg !== false;\n    };\n    if (node) {\n        node.emit('created', emitData);\n        onMounted(() => {\n            node.emit('mounted', emitData);\n        });\n        onBeforeUnmount(() => {\n            node.emit('destroy', emitData);\n        });\n    }\n    return {\n        app,\n        node,\n        style,\n        display,\n    };\n};\n"],"names":["useApp","methods","config","_a","app","node","style","emitData","display","displayCfg"],"mappings":"AAkBA,MAAAA,EAAA,CAAA,CAAA,QAAAC,EAAA,OAAAC,KAAA,CAlBA,IAAAC,EAmBA,MAAAC,EAAgB,QAAM,OAAA,KAAA,EACtBC,GAAAF,EAAAC,GAAA,YAAAA,EAAA,OAAA,YAAAD,EAAA,QAAAD,EAAA,IAAA,IACAI,EAAkB,QAAQ,SAAA,IAAAF,EAAAA,EAAA,eAAAF,EAAA,OAAA,CAAA,CAAA,EAAAA,EAAA,KAAA,EAC1BK,EAAA,CACA,OAAAL,EACA,GAAAD,CACA,EACAO,EAAAN,GAAA,CAGA,GAFAA,EAAA,UAAA,IAEAA,EAAA,aAAA,GACA,MAAA,GACA,MAAAO,EAAAP,EAAA,QACA,OAAA,OAAAO,GAAA,WACAA,EAAAL,CAAA,EAEAK,IAAA,EACA,EACA,OAAAJ,IACAA,EAAA,KAAA,UAAAE,CAAA,EACQ,QAAS,UAAA,IAAA,CACjBF,EAAA,KAAA,UAAAE,CAAA,CACA,CAAA,EACQ,QAAe,gBAAA,IAAA,CACvBF,EAAA,KAAA,UAAAE,CAAA,CACA,CAAA,GAEA,CACA,IAAAH,EACA,KAAAC,EACA,MAAAC,EACA,QAAAE,CACA,CACA","x_google_ignoreList":[0]}