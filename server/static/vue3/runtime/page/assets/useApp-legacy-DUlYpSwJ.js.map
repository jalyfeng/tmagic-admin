{"version":3,"file":"useApp-legacy-DUlYpSwJ.js","sources":["../../../../../../node_modules/.pnpm/@tmagic+vue-runtime-help@0.0.7_@tmagic+core@packages+core_@tmagic+data-source@1.4.16_@tmagic+_ws7dtddtwg7dmrs3vshbe7yurq/node_modules/@tmagic/vue-runtime-help/dist/useApp.js"],"sourcesContent":["/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2023 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { computed, inject, onBeforeUnmount, onMounted } from 'vue-demi';\nexport default ({ methods, config }) => {\n    const app = inject('app');\n    const node = app?.page?.getNode(config.id || '');\n    const style = computed(() => (app ? app.transformStyle(config.style || {}) : config.style));\n    const emitData = {\n        config,\n        ...methods,\n    };\n    const display = (config) => {\n        if (config.visible === false)\n            return false;\n        if (config.condResult === false)\n            return false;\n        const displayCfg = config.display;\n        if (typeof displayCfg === 'function') {\n            return displayCfg(app);\n        }\n        return displayCfg !== false;\n    };\n    if (node) {\n        node.emit('created', emitData);\n        onMounted(() => {\n            node.emit('mounted', emitData);\n        });\n        onBeforeUnmount(() => {\n            node.emit('destroy', emitData);\n        });\n    }\n    return {\n        app,\n        node,\n        style,\n        display,\n    };\n};\n"],"names":["exports","methods","config","app","VueDemi","inject","node","page","getNode","id","style","computed","transformStyle","emitData","emit","onMounted","onBeforeUnmount","display","visible","condResult","displayCfg"],"mappings":"yEAkBAA,EAAA,KAAA,EAAAC,UAAAC,aACA,MAAAC,EAAgBC,QAAMC,OAAA,OACtBC,EAAAH,GAAAI,MAAAC,QAAAN,EAAAO,IAAA,IACAC,EAAkBN,QAAQO,UAAA,IAAAR,EAAAA,EAAAS,eAAAV,EAAAQ,OAAA,CAAA,GAAAR,EAAAQ,QAC1BG,EAAA,CACAX,YACAD,GAsBA,OATAK,IACAA,EAAAQ,KAAA,UAAAD,GACQT,QAASW,WAAA,KACjBT,EAAAQ,KAAA,UAAAD,EAAA,IAEQT,QAAeY,iBAAA,KACvBV,EAAAQ,KAAA,UAAAD,EAAA,KAGA,CACAV,MACAG,OACAI,QACAO,QAxBAf,IACA,IAAA,IAAAA,EAAAgB,QACA,SACA,IAAA,IAAAhB,EAAAiB,WACA,SACA,MAAAC,EAAAlB,EAAAe,QACA,MAAA,mBAAAG,EACAA,EAAAjB,IAEA,IAAAiB,CAAA,EAgBA","x_google_ignoreList":[0]}