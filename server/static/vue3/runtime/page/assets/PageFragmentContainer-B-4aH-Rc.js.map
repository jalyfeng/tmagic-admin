{"version":3,"file":"PageFragmentContainer-B-4aH-Rc.js","sources":["../../../../../../packages/ui/src/page-fragment-container/src/PageFragmentContainer.vue"],"sourcesContent":["<template>\n  <div :id=\"`${config.id || ''}`\" class=\"magic-ui-page-fragment-container\">\n    <Container :config=\"containerConfig\" :model=\"model\"></Container>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue';\n\nimport { type MComponent, type MNode, NodeType } from '@tmagic/schema';\nimport { useApp } from '@tmagic/vue-runtime-help';\n\nimport Container from '../../container';\n\nconst props = withDefaults(\n  defineProps<{\n    config: MComponent;\n    model?: any;\n  }>(),\n  {\n    model: () => ({}),\n  },\n);\n\nconst { app } = useApp({\n  config: props.config,\n  methods: {},\n});\n\nconst fragment = computed(() => app?.dsl?.items?.find((page) => page.id === props.config.pageFragmentId));\n\nconst containerConfig = computed(() => {\n  if (!fragment.value) return { items: [], id: '', type: NodeType.CONTAINER };\n\n  const { id, type, items, ...others } = fragment.value;\n  const itemsWithoutId = items.map((item: MNode) => {\n    const { id, ...otherConfig } = item;\n    return {\n      id: '',\n      ...otherConfig,\n    };\n  });\n\n  if (app?.platform === 'editor') {\n    return {\n      ...others,\n      items: itemsWithoutId,\n      id: '',\n      type: NodeType.CONTAINER,\n    };\n  }\n\n  return {\n    ...others,\n    items,\n    id: '',\n    type: NodeType.CONTAINER,\n  };\n});\n</script>\n\n<style scoped>\n.in-editor .magic-ui-page-fragment-container {\n  min-width: 100px;\n  min-height: 100px;\n}\n</style>\n"],"names":["props","__props","app","useApp","fragment","_b","_a","page","containerConfig","NodeType","id","type","items","others","itemsWithoutId","item","id2","otherConfig"],"mappings":"yTAcA,MAAAA,EAAAC,EAUA,CAAA,IAAAC,CAAA,EAAAC,EAAA,CAAuB,OAAAH,EAAA,OACP,QAAA,CAAA,CACJ,CAAA,EAGZI,EAAiB,IAAA,SAAA,IAAA,SAAA,OAAAC,GAAAC,EAAAJ,GAAA,YAAAA,EAAA,MAAA,YAAAI,EAAA,QAAA,YAAAD,EAAA,KAAAE,GAAAA,EAAA,KAAAP,EAAA,OAAA,gBAAA,EAEjBQ,EAAwB,kBACtB,GAAA,CAAAJ,EAAA,MAAA,MAAA,CAAA,MAAA,CAAA,EAAA,GAAA,GAAA,KAAAK,EAAA,SAAA,EAEA,KAAA,CAAA,GAAAC,EAAA,KAAAC,EAAA,MAAAC,EAAA,GAAAC,CAAA,EAAAT,EAAA,MACAU,EAAAF,EAAA,IAAAG,GAAA,CACE,KAAA,CAAA,GAAAC,EAAA,GAAAC,CAAA,EAAAF,EACA,MAAA,CAAO,GAAA,GACD,GAAAE,CACD,CACL,CAAA,EAGF,OAAAf,GAAA,YAAAA,EAAA,YAAA,SACE,CAAO,GAAAW,EACF,MAAAC,EACI,GAAA,GACH,KAAAL,EAAA,SACW,EAInB,CAAO,GAAAI,EACF,MAAAD,EACH,GAAA,GACI,KAAAH,EAAA,SACW,CACjB,CAAA"}