{"version":3,"file":"PageFragmentContainer-legacy-BrD9tJA9.js","sources":["../../../../../../packages/ui/src/page-fragment-container/src/PageFragmentContainer.vue"],"sourcesContent":["<template>\n  <div :id=\"`${config.id || ''}`\" class=\"magic-ui-page-fragment-container\">\n    <Container :config=\"containerConfig\" :model=\"model\"></Container>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue';\n\nimport { type MComponent, type MNode, NodeType } from '@tmagic/schema';\nimport { useApp } from '@tmagic/vue-runtime-help';\n\nimport Container from '../../container';\n\nconst props = withDefaults(\n  defineProps<{\n    config: MComponent;\n    model?: any;\n  }>(),\n  {\n    model: () => ({}),\n  },\n);\n\nconst { app } = useApp({\n  config: props.config,\n  methods: {},\n});\n\nconst fragment = computed(() => app?.dsl?.items?.find((page) => page.id === props.config.pageFragmentId));\n\nconst containerConfig = computed(() => {\n  if (!fragment.value) return { items: [], id: '', type: NodeType.CONTAINER };\n\n  const { id, type, items, ...others } = fragment.value;\n  const itemsWithoutId = items.map((item: MNode) => {\n    const { id, ...otherConfig } = item;\n    return {\n      id: '',\n      ...otherConfig,\n    };\n  });\n\n  if (app?.platform === 'editor') {\n    return {\n      ...others,\n      items: itemsWithoutId,\n      id: '',\n      type: NodeType.CONTAINER,\n    };\n  }\n\n  return {\n    ...others,\n    items,\n    id: '',\n    type: NodeType.CONTAINER,\n  };\n});\n</script>\n\n<style scoped>\n.in-editor .magic-ui-page-fragment-container {\n  min-width: 100px;\n  min-height: 100px;\n}\n</style>\n"],"names":["props","__props","app","useApp","config","methods","fragment","Vue","computed","dsl","items","find","page","id","pageFragmentId","containerConfig","value","type","NodeType","CONTAINER","others","itemsWithoutId","map","item","id2","otherConfig","platform"],"mappings":"oqBAcA,MAAAA,EAAAC,GAUAC,IAAAA,GAAAC,EAAA,CAAuBC,OAAAJ,EAAAI,OACPC,QAAA,CAAA,IAIhBC,EAAiBC,IAAAC,UAAA,IAAAN,GAAAO,KAAAC,OAAAC,MAAAC,GAAAA,EAAAC,KAAAb,EAAAI,OAAAU,mBAEjBC,EAAwBR,mBACtB,IAAAD,EAAAU,MAAA,MAAA,CAAAN,MAAA,GAAAG,GAAA,GAAAI,KAAAC,EAAAC,WAEA,MAAAN,GAAAA,EAAAI,KAAAA,EAAAP,MAAAA,KAAAU,GAAAd,EAAAU,MACAK,EAAAX,EAAAY,KAAAC,IACE,MAAAV,GAAAW,KAAAC,GAAAF,EACA,MAAA,CAAOV,GAAA,MACDY,EACD,IAIP,MAAA,WAAAvB,GAAAwB,SACE,IAAON,EACFV,MAAAW,EACIR,GAAA,GACHI,KAAAC,EAAAC,WAKR,IAAOC,EACFV,QACHG,GAAA,GACII,KAAAC,EAAAC,UACW"}